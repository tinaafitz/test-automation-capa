---
# Configure MCE CAPI/CAPA environment task
# This task runs the configure-capa-environment role

- name: Configure the MCE CAPI/CAPA environment
  import_role:
    name: configure-capa-environment
  vars:
    ocm_client_id: "{{ lookup('env', 'OCM_CLIENT_ID') | default(OCM_CLIENT_ID, true) }}"
    ocm_client_secret: "{{ lookup('env', 'OCM_CLIENT_SECRET') | default(OCM_CLIENT_SECRET, true) }}"
    aws_access_key_id: "{{ lookup('env', 'AWS_ACCESS_KEY_ID') | default(AWS_ACCESS_KEY_ID, true) }}"
    aws_secret_access_key: "{{ lookup('env', 'AWS_SECRET_ACCESS_KEY') | default(AWS_SECRET_ACCESS_KEY, true) }}"
    aws_region: "{{ lookup('env', 'AWS_REGION') | default(AWS_REGION, true) }}"
    mce_namespace: "{{ lookup('env', 'MCE_NAMESPACE') | default(MCE_NAMESPACE, true) }}"