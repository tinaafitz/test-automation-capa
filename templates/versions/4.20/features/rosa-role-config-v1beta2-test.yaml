---
# Static Test Configuration for ROSARoleConfig v1beta2
# This file provides a complete test scenario for validating ROSARoleConfig v1beta2 functionality
# Used for automated testing and development validation

apiVersion: infrastructure.cluster.x-k8s.io/v1beta2
kind: ROSARoleConfig
metadata:
  name: test-rosa-hcp-roles-v1beta2
  namespace: ns-rosa-hcp
  labels:
    cluster.x-k8s.io/cluster-name: test-rosa-hcp-cluster
    automation.acm.redhat.com/test-case: "RHACM4K-61815"
    automation.acm.redhat.com/created-by: "ansible-automation"
  annotations:
    automation.acm.redhat.com/description: "Automated ROSARoleConfig v1beta2 test"
    automation.acm.redhat.com/timestamp: "2026-02-04T19:00:00Z"
    automation.acm.redhat.com/version: "4.20"
spec:
  # AWS Identity Reference (required for authentication)
  identityRef:
    kind: AWSClusterControllerIdentity
    name: default

  # Account Role Configuration (account-wide IAM roles)
  accountRoleConfig:
    prefix: "test"
    version: "4.20.10"
    path: "/rosa/"
    permissionsBoundaryARN: "arn:aws:iam::123456789012:policy/ROSAPermissionBoundary"

  # Operator Role Configuration (cluster-specific operator IAM roles)
  operatorRoleConfig:
    prefix: "test"
    oidcID: "test-oidc-12345678"
    permissionsBoundaryARN: "arn:aws:iam::123456789012:policy/ROSAPermissionBoundary"

  # OIDC Provider Type (Managed or Unmanaged)
  oidcProviderType: Managed

  # AWS Credentials Secret Reference
  credentialsSecretRef:
    name: rosa-creds-secret
